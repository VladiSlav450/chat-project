[options feed]

name:blog = blog
menu:blog = Blog
name_latest:blog = Latest blog entries

name:news = news
menu:news = News
name_latest:news = Latest news

name = _feed_
menu = UnknownPurposeFeed
name_latest = Please set opt_selector:feed to either &ldquo;news&rdquo; or &ldquo;blog&rdquo;



[general]

rootdir = %[opt:dir:target]
spooldir = %[opt:dir:spool]

base_url = %[opt:site:url]
base_uri = /



[format]

encoding = %[opt:site:enc]

tags = em strong cite code pre ul ol li dl dt dd ins del
	h1 h2 h3 h4 h5 p br blockquote table td tr %[opt:site:moretags]
tag_attributes = title %[opt:site:moreattrs]


[html]

empty =

# %0% additional meta tags    %1% additional body attributes
shortheader = <?xml version="1.0" encoding="%[opt:site:enc]"?>
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+            "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml"
+                       lang="%[opt:site:lang]" xml:lang="%[opt:site:lang]">
+<head>
+<link type="text/CSS" rel="stylesheet" href="/style.css" />
+<link type="image/x-icon" rel="shortcut icon" href="/favicon.png" /> %0%
+<meta http-equiv="Content-Type" content="text/html; charset=%[opt:site:enc]" />
+<title>%[opt:site:title]</title>
+</head> <body %1%>

shortfooter = </body></html>
+<!-- generated %[rfcdate:%now%] by %[thalassa_version:full] -->
+

thalcgi_start =
+<!--THALCGI-LABEL-BEGIN-->
+

thalcgi_end =
+<!--THALCGI-LABEL-END-->
+



[indexbar index1]

begin = <div class="index1"%[if:%2%: id="%2%":]>
end = </div>
break = <span class="idx_break">...</span>

link = <a href="%1%%[if:%2%:#%2%:]" class="idx_link">%0%</a>
greylink = <span class="idx_grey">%0%</span>
curpos = <span class="idx_curr">%0%</span>

# textprev = &#x2BC7;
# textnext = &#x2BC8;
# textfirst = &#x2BC7;&#x2BC7;
# textlast = &#x2BC8;&#x2BC8;

textprev = &laquo;
textnext = &raquo;
textfirst = <span style="letter-spacing:-2px;">&laquo;&laquo;</span>
textlast = <span style="letter-spacing:-2px;">&raquo;&raquo;</span>

tailsize = 2


[indexbar cmt_index]

begin = <div class="index1"%[if:%2%: id="%2%":]>
end = </div><div class="clear_both"> </div>
break = <span class="idx_break">...</span>

link = <a href="%1%%[if:%2%:#%2%:]" class="idx_link">%0%</a>
greylink = <span class="idx_grey">%0%</span>
curpos = <span class="idx_curr">%0%</span>

textprev = &laquo;
textnext = &raquo;
textfirst = <span style="letter-spacing:-2px;">&laquo;&laquo;</span>
textlast = <span style="letter-spacing:-2px;">&raquo;&raquo;</span>

tailsize = 2



[page 403.html]

body = %[html:header]
+<h2 style="font-size:300%%; text-align: center">403: forbidden</h2>
+%[html:footer]
+

[page 404.html]

body = %[html:header]
+<h2 style="font-size:300%%; text-align: center">404: page not found</h2>
+%[html:footer]
+


[pageset pages]

sourcedir = db/pages

publish_method = copy

setdirname = /

pagedirname = %[li:id]
indexfilename = index.html
compagename = c%idx%.html

pagefilename = %[li:id]%[_idx].html

comments = %[html:comment_style_pg] db/comments/pg_%[li:id]
    cgi_reply_path  /thalcgi.cgi/comment/pg/%[li:id]/
    cgi_view_path   /thalcgi.cgi/cmta/pg/%[li:id]/
    perm_addr       /%[li:id].html



[list feed]

source = set pages feed
items_per_listpage = 10
reverse = yes
reverse_source = no

main_listpage_name = %[opt:feed:name].html
listpage_name_templ = %[opt:feed:name]_pg%idx0%.html

list_header = %[collapsews:%[html:header:feed:
+  <link rel="alternate" type="application/rss+xml" title="%[opt:site:title]
+      %[opt:feed:name]" href="%[base_url]/rss.xml" />]]
+<div class="pagerest"> %indexbar:index1:topindex%
+<h2 class="page_title">%[opt:site:title] %[opt:feed:name]</h2>
+<hr class="news" />
+<div class="page_body">
+

list_footer = <a href="/rss.xml" class="feed_icon">
+<img src="/feed.png" alt="RSS feed" %[imgdim:base/srvfiles/feed.png] /></a>
+%indexbar:index1:bottomindex% </div>
+</div>
+%[html:footer:feed]

list_item_template =
+<h3 id="%li:id%"><a href="/%li:id%.html">%li:title%</a></h3>
+<p class="date">%li:date%</p>
+<div class="news_item_body">%[or:%li:descr%:%li:text%]</div>
+%[if:%[li:descr]:%[li:ifmore:<p class="newsmore"><a href="/%li:id%.html">more...</a></p>]]
+<hr class="news" />
+

pages = no


[list lastnews]

embedded = yes
last_items_only = 15
source = set pages feed
reverse = yes
reverse_source = no
list_header = <ul>
list_footer =  </ul>
list_item_template =
+<li><a href="%li:id%.html">%li:title%</a>
+   <span style="font-size: small">%li:date%</span></li>
pages = no


[list newsrss]

embedded = yes
last_items_only = 15
source = set pages feed
reverse = yes
reverse_source = no
pages = no
list_header =
list_footer =
list_item_template = <item>
+ <title>%[li:title]</title>
+ <link>%[base_url]/%[li:id].html</link>
+ <description>%[ltgt:%[or:%li:descr%:%li:text%]]</description>
+ <comments>%[base_url]/%[li:id].html#comments</comments>
+ <pubDate>%[li:date]</pubDate>
+ <guid isPermaLink="false">%[li:id] at %[base_url]</guid>
+</item>
+

[page rss.xml]

body = <?xml version="1.0" encoding="koi8-r"?>
+<rss version="2.0" xml:base="%[opt:site:url]" xmlns:dc="http://purl.org/dc/elements/1.1/">
+<channel>
+ <title>%[opt:site:title]</title>
+ <link>%[opt:site:url]</link>
+ <description>%[opt:site:descr]</description>
+ <language>%[opt:site:lang]</language>
+%[embedlist:newsrss]
+</channel>
+</rss>
+


[list guestbook]

embedded = no
source = ini guestbook
reverse = yes
reverse_source = no

main_listpage_name = guestbook/archives.html

list_header = %[html:header:guestbook::^status]<ul>
list_footer = </ul>%[html:footer:guestbook:^status]
list_item_template = <li>
   <a href="/guestbook/%[li:ifnext::%[li:id].html:]">%li:title%</a></li>

pages = yes
itempage_name = guestbook/%[li:id]%[_idx].html

itempage_template = %[html:header:guestbook::^status]
+<div class="pagerest">
+%[ifeq:%[ls:first]:%[ls:last]::
+ <div class="news_navlinks">
+ %[li:ifprev::%[html:newslnk_left:/guestbook/%[li:prev].html]]
+ %[html:newslnk_up:/guestbook/archives.html]
+ %[li:ifnext::%[html:newslnk_right:/guestbook/%[ifeq:%[li:next]:%[ls:last]::%[li:next].html]]]
+ </div>
+]
+%[html:thalcgi_start]
+<h2 class="page_title">
+ <a href="/guestbook/%[li:ifnext::%[li:id].html:]">%li:title%</a>
+</h2>
+<div class="page_body">
+ %[li:ifnext::%[opt:guestbook:text_archive]:%[opt:guestbook:text_active]]
+ %[opt:guestbook:text_premod_note]
+</div>
+%[html:thalcgi_end]
+%[html:comment_add:gb]
+</div>
+

itempage_tail_template =
+%[li:ifcomenabled:<a href="/thalcgi.cgi/moderation/gb/%[li:id]"><img
+src="/cmtpage.png" alt="pencil" height="16px" /></a>]
+%[html:footer:guestbook:^status]
+

comments = %[html:comment_style_gb] db/comments/gb_%[li:id]
    cgi_reply_path  /thalcgi.cgi/comment/gb/%[li:id]/
    cgi_view_path   /thalcgi.cgi/cmta/gb/%[li:id]/
    perm_addr       /guestbook/%[li:id].html



[aliases gbactive]

force_dirs = guestbook
aliases = guestbook/index.html:guestbook/%[listinfo|last|guestbook].html



[page robots.txt]

body = User-agent: *
+Disallow: /thalcgi.cgi/
+



[collection srv]

sourcedir = base/srvfiles
destdir = /
publish_method = copy
publish_recursive = no
publish_hidden = no
publish_symlinks = ignore


[collection userfiles]

sourcedir = files
destdir = /files
publish_method = copy
publish_recursive = yes
publish_hidden = no
publish_symlinks = ignore


[collection userpic]

sourcedir = userpic
destdir = /userpic
publish_method = copy
publish_recursive = no
publish_hidden = no
publish_symlinks = ignore





[binary logo.png]

publish_method = copy

[binary favicon.png]

publish_method = copy

[binary thalcgi.cgi]

publish_method = copy
source = %[opt:dir:thalcgi]
target = /thalcgi.cgi
chmod = 755



[html]


# %0% menu label    %1% additional meta tags    %2% blocks label
header = %[html:shortheader:%1%]
+<div class="siteheader">
+    <a href="/"><img src="/logo.png" alt="%[opt:site:title] logo"
+        class="sitelogo" /></a>
+    <h1><a href="/">%[opt:site:title]</a></h1>
+    %[if:%[opt:site:motto]:<p class="sitemotto">%[opt:site:motto]</p>]
+</div>
+<div class="clear_both"></div>
+<div class="pagerest">
+<div class="sidepanel">
+    %[blocks:paneltop:%2%]
+    %[menu:mainmenu:%0%]
+    %[blocks:panelbottom:%2%]
+</div>
+<div class="pagecontent">

# %0% menu label    %1% blocks label
footer =
+</div>   <!-- pagecontent -->
+<div class="clear_both"></div>
+</div>   <!-- pagerest -->
+<div class="sitefooter">
+    <p class="sitecopyright">%[opt:site:copyright]</p>
+    %[blocks:footerbottom:%1%]
+</div>
+%[html:shortfooter]

newslnk_left  = <span class="nav_arr"><a href=%[q:%0%]>%[opt:text:previous]</a>
+   &bullet;</span>

newslnk_right = <span class="nav_arr">&bullet; 
+   <a href=%[q:%0%] class="nav_arr">%[opt:text:next]</a></span>

newslnk_up = <a href=%[q:%0%] class="nav_arr">%[opt:text:nav_index]</a>


userlink = <a href="/thalcgi.cgi/profile/%0%"><img src="/person.png"
+  height="12px" alt="profile" /></a>

comment_add = %[li:ifcomenabled:<p class="commentlink">
+<a href="/thalcgi.cgi/comment/%0%/%[li:id]">%[opt:text:comment_on_this]</a>
+</p>]

comment_reply = %[li:ifcomenabled:<p class="commentlink">
+<a href="%[cmt:aux:cgi_reply_path]%[cmt:id]">%[opt:text:reply]</a></p>]

comment_style_pg = %[switch:%[opt:cmt:pages_cmt_style]::tree1:tree:tree1:list:list1:thread:thread1]
comment_style_gb = %[switch:%[opt:cmt:guestbook_style]::tree1:tree:tree1:list:list1:thread:thread1]



[menu mainmenu]

begin = <div class="mainmenu">
end = </div>

link = <a href="%1%" %[if:%2%:title="%2%":] class="mainmenu_link">%0%</a>
+

curpos = <p class="mainmenu_curr">%0%</p>
+

break = <hr />
+

tag = <p class="mainmenu_tag">%0%</p>
+


[blockgroup paneltop]

begin =
end =
block_template = %blk:body%


[blockgroup panelbottom]

begin =
end =
block_template = %blk:body%


[blockgroup footerbottom]

begin =
end =
block_template = %blk:body%


[block cgistatus]

group = paneltop
weight = 100
tag = ^status
title =
body = <iframe src="/thalcgi.cgi/status" class="status_frame">
+      No iframe support?</iframe>
+


[page index.html]

path = %[opt:mainpage:name]

body = %[html:header:main::^status]
+%[opt:mainpage:text]
+%[ifeq:%[opt:mainpage:digest]:yes:
+    <h2>%[opt:feed:name_latest]</h2>
+    <div>%[embedlist:lastnews]</div>
+]
+%[html:footer:main:^status]
+



[pageset pages]

page_template = %[html:header:pages.%[li:id]::%[li:tags]]
+%[html:thalcgi_start]
+    <h2 class="page_title"><a href="">%li:title%</a></h2>
+    <div class="page_body">%li:text%</div>
+%[html:thalcgi_end]
+%[html:comment_add:pg]
+

page_template:feed = %[html:header:pages.%[li:id]::%[li:tags]]
+<div class="news_navlinks">
+    %[li:ifprev:feed:%[html:newslnk_left:/%[li:prev:feed].html]]
+    %[li:iflistarraynum:feed:%[html:newslnk_up:/%[opt:feed:name]_pg%[li:listarraynum:feed].html#%[li:id]]:&mdash;]
+    %[li:ifnext:feed:%[html:newslnk_right:/%[li:next:feed].html]]
+</div>
+%[html:thalcgi_start]
+    <h2 class="page_title"><a href="">%li:title%</a></h2>
+    <p class="date">%li:date%</p>
+    <div class="page_body">%li:text%</div>
+%[html:thalcgi_end]
+%[html:comment_add:pg]
+

page_template:story = %[html:header:pages.%[li:id]::%[li:tags]]
+%[html:thalcgi_start]
+    <h2 class="page_title"><a href="">%li:title%</a></h2>
+    <p class="date">%li:date%</p>
+    <div class="page_body">%li:text%</div>
+%[html:thalcgi_end]
+%[html:comment_add:pg]
+

page_tail_template = %[html:footer:pages.%[li:id]:%[li:tags]]



# comments ###

[html]

comuserpic = <img src="/userpic/%0%" alt="%0%'s userpic"
+        %[imgdim:userpic/%0%] class="comment_userpic" />
+

comnouserpic = <img src="/nouserpic.png" alt="no userpic"
+        %[imgdim:base/srvfiles/nouserpic.png] class="comment_userpic" />
+

comanonuserpic = <img src="/anonuserpic.png" alt="anonymous"
+        %[imgdim:base/srvfiles/anonuserpic.png] class="comment_userpic" />
+

comuserpic_choice = %[collapsews:
+  %[iffile:userpic/%0%.jpg:%[html:comuserpic:%0%.jpg]:
+    %[iffile:userpic/%0%.png:%[html:comuserpic:%0%.png]:
+      %[iffile:userpic/%0%.gif:%[html:comuserpic:%0%.gif]:
+          %[html:comnouserpic]]]]
+]

comment_edit = <a href="%[cmt:aux:cgi_view_path]%[cmt:id]"><img
+ src="/cmtpage.png" alt="pencil" height="16px"
+ style="margin:0 7px 0 7px; float:right;" /></a>
+

comment_common =
+<div class="comment" %[if:%[cmt:hf:anchor]:id="%[cmt:hf:anchor]":]>
+<div class="comment_head" id="cmt%[cmt:id]">
+%[html:%[cmt:ifflag:anon:comanonuserpic:comuserpic_choice]:%[cmt:user]]
+<p>%[opt:text:from] %[cmt:from]
+    %[cmt:ifflag:anon:(<em>%[opt:text:unverified]</em>):
+        %[html:userlink:%[cmt:user]]] %[cmt:date]
+        %[cmt:ifparent:%[opt:text:in_reply_to_cmt1]
+            <a href="#cmt%[cmt:parent]">%[opt:text:in_reply_to_cmt2]</a>
+            %[opt:text:in_reply_to_cmt3]:]
+</p>
+%[html:comment_edit]
+<h3><a href="%[cmt:aux:perm_addr]#cmt%[cmt:id]">%[cmt:title]</a></h3>
+</div>
+<div class="comment_content">
+%[cmt:text]
+</div>
+

comment_common_end =
+</div>
+

comment_no_comments = <div class="clear_both">
+<blockquote><em>%[opt:text:no_comments_yet]</em></blockquote>
+</div>
+




[commentstyle tree1]

type = tree
reverse = %[opt:cmt:reverse]
perpage = 0

top_template = <div class="clear_both"></div><hr id="startcomments" />
+  <div class="comments_section">

bottom_template = </div><hr />

indent_template =  <div style="padding-left:3%%">

unindent_template = </div>

no_comments = %[html:comment_no_comments]

comment_template = <div class="comment_subtree">
+%[html:comment_common]
+%[html:comment_reply]
+%[html:comment_common_end]

comment_tail_template = </div>



[commentstyle list1]

type = list
reverse = %[opt:cmt:reverse]

# commented out as there's currently no support for multipage
# lists in Agenda; coming soon, stay tuned
#perpage = %[opt:cmt:per_page]
perpage = 0

top_template = <div class="clear_both"></div><hr id="startcomments" />
+  <div class="comments_section">

bottom_template = </div><hr />

no_comments = %[html:comment_no_comments]

comment_template =
+%[html:comment_common]
+%[html:comment_reply]
+%[html:comment_common_end]

comment_tail_template =



[html]

# %0% thread link  %1% replies
comment_thread_link = <p class="commentlink">
+  %[if:%0%:<a href="%0%">%1% %[opt:text:of_replies]</a>&nbsp;&nbsp;&nbsp;]
+  %[li:ifcomenabled:
+     <a href="%[cmt:aux:cgi_reply_path]%[cmt:id]">%[opt:text:reply]</a></p>]
+</p>
+


[commentstyle thread1]

type = thread
reverse = %[opt:cmt:reverse]
perpage = %[opt:cmt:per_page]

top_template = <div class="clear_both"></div><hr id="startcomments" />
+  <div class="comments_section">

bottom_template = </div><hr />

no_comments = %[html:comment_no_comments]

comment_template =
+%[html:comment_common]
+%[html:comment_thread_link:%[cmt:threadpg]#cmt%[cmt:id]:%[cmt:replies]]
+%[html:comment_common_end]

comment_tail_template =



